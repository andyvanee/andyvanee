<!DOCTYPE html>
<html>
  <head>
    <title>andyvanee.com - Automator Services</title>
    <link href="http://fonts.googleapis.com/css?family=Rokkitt:700|Cantarell:400,700,400italic" rel="stylesheet" type="text/css">
    <link href="/css/bootstrap.min.css" rel="stylesheet" type="text/css">
    <link href="/css/a.css" rel="stylesheet" type="text/css">
    <link rel="alternate" type="application/rss+xml" title="andyvanee.com feed" href="http://andyvanee.com/feed.xml" />
    <meta name="description" content="Thoughts on Programming, Metaphysics, and anything in between">
  </head>
  <body>
  <div class="container">
    <div class="row">
      <div class="span8">
        <h1 class="page-title"><a href="/index.html">andyvanee</a><span class="subhead">blog</span></h1>
      </div>
      <div class="span8">
        <div class="post-single">
  <h2>
    <a href="/2011/02/07/automator-services.html">Automator Services</a>
    <span class="date">07-Feb-2011</span>
  </h2>
  <p>I keep discovering new uses for Automator.</p><p>I'm not sure when the "Services" option became available, but it's worth checking out. I had previously wrote a text-to-markdown action, which converted the clipboard contents from markdown to HTML. This was convenient, but it involved copying, running the app and then pasting. The script did this:</p><code>pbpaste | Markdown.pl | pbcopy</code><br />
<p>With services this becomes much simpler. It's now in the contextual(right-click) menu for any application that deals with text, and I also set up the keyboard shortcut CMD-ALT-SHIFT-M. It replaces the selected markdown text with the HTML. The action is even simpler; just a single command:</p><code>/usr/local/bin/Markdown.pl</code><br />
<p>If you've installed the markdown script somewhere else, you'll have to set the appropriate path. And here's a screenshot of how the input is configured.</p><div class="separator" style="clear: both; text-align: center;"><a href="http://4.bp.blogspot.com/_ZApMPFF0N4c/TVBCPDdJyOI/AAAAAAAABIg/ltDR1LKfQkk/s1600/Screen%2Bshot%2B2011-02-07%2Bat%2B11.45.40%2BAM.png" style="clear: left; float: left; margin-right: 1em; margin-bottom: 1em;"><img border="0" height="224" src="http://4.bp.blogspot.com/_ZApMPFF0N4c/TVBCPDdJyOI/AAAAAAAABIg/ltDR1LKfQkk/s320/Screen%2Bshot%2B2011-02-07%2Bat%2B11.45.40%2BAM.png" width="320" /></a></div><h3>Search and Replace</h3><p>Almost any shell command can be wired into OSX this way. If the command needs special arguments for each run, just check the box: Options > Show this action when the workflow runs. I did this for Sed search and replace action. Here's the workflow script:</p><code>sed s/old/new/g</code><br />
<p>On each run you want to change old and new with what you're searching and replacing, but it doesn't have to end there. You can change the command on the fly to anything that deals with text transformation. <code>sed /^$/d</code> deletes any empty lines. <code>grep andyvanee</code> filters out any lines not containing 'andyvanee'.</p><h3>View Command Output</h3><p>For text commands where you don't want to replace the text, just see the results of some command, uncheck the 'Replaces Selected Text' box and add a "Choose From List" action, or maybe "New TextEdit Document" to view the results. For good measure, add a "Copy to Clipboard" action at the end, just in case you want to do something with the output of the command.</p><p>This is probably more useful for grep type commands, so I saved this one as "Grep Text" and the previous as "Sed Text", although either can be used for a wide range of commands.</p><div class="blogger-post-footer"><img alt="" height="1" src="https://blogger.googleusercontent.com/tracker/3761776372224414205-3243187694632407227?l=amxor.blogspot.com" width="1" /></div>
</div>
<p>
    tags:
    
</p>
<p class="well">
    <a href="mailto:andy@andyvanee.com?subject=Comments%20on%3A%20Automator Services">
        Email
    </a>
    your comments to me. I will try to respond to all comments either by revising the
    post, or by responding personally. I promise not post or otherwise mishandle
    your email address.
</p>
      </div>
      <div class="span8 footer">
        <div class="inside">
          <p>
            <a href="/index.html">andyvanee.com</a>
            |
            <a href="https://github.com/Andyvanee/andyvanee.github.com/wiki">wiki</a>
          </p>
        </div>
      </div>
    </div>
  </body>
  <script type="text/javascript" charset="utf-8" src="/js/jquery.min.js"></script>
  <script type="text/javascript" charset="utf-8" src="/js/app.min.js"></script>
</html>
